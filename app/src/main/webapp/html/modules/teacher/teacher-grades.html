<div id="menu-element-grades" data-dojo-type="dijit.layout.ContentPane"
	title="Notes">
	<script type="text/javascript">
		dojo.ready(function() {
			var tabs = dijit.byId("tabMenu");
			tabs.watch("selectedChildWidget", function(name, oval, nval) {
				if (nval.id == 'menu-element-grades') {
					loadBranches();
				}
			});
			
	        // dijit.byId("removeExamDialog").on("hide", function() {
	        //      resetDialogDiv(dijit.byId("removeExamDialog"));
	        // });
	        // dijit.byId("setExamDialog").on("hide", function() {
	        //      resetDialogDiv(dijit.byId("setExamDialog"));
	        // });
	        dijit.byId("newBranchDialog").on("hide", function() {
	        	resetDialogDiv(dijit.byId("newBranchDialog"));
	        });
	        dijit.byId("newExamDialog").on("hide", function() {
	        	resetDialogDiv(dijit.byId("newExamDialog"));
	        });
	        // dijit.byId("removeBranchDialog").on("hide", function() {
	        //      resetDialogDiv(dijit.byId("removeBranchDialog"));
	        // });
		});
	</script>
	<table style="width: 100%; height: 100%">
		<tr>
			<td valign="top" style="width: 20%; height: 100%">
				<div id="branch-search" class="vertical-search">
					<button class="new-class" onclick="createNewBranch();">Nouvelle
						branche</button>
					<!-- 					<button type="text" class="remove-class" onclick="deleteBranch();">Supprimer une branche</button> -->
					<hr />
					<div id="branch-search-list" class="search-list"></div>
				</div>
			</td>
			<td valign="top" style="width: 80%">
				<div id="branch-content" class="branch-content" style="height: 100%">
					<div id="newExamDialog" data-dojo-type="dijit.Dialog"
						title="Nouvel examen">
						<table style="width: 100%">
							<tr>
								<td>Nom de l'examen</td>
								<td><input type="text" id="txtNewExamName"
									propertyName="pExamName" style="width: 100%" /></td>
							</tr>
							<tr>
								<td>Coefficient</td>
								<td><input type="text" id="txtNewExamCoeff"
									propertyName="pExamCoeff" style="width: 100%" value="1" /></td>
							</tr>
							<tr>
								<td align="center"><button
										onclick="createExam('newExamDialog', ['txtNewExamName', 'txtNewExamCoeff'])">Ok</button></td>
								<td align="center"><button
										onclick="dijit.byId('newExamDialog').hide();">Annuler</button></td>
							</tr>
						</table>
					</div>
					<div id="newBranchDialog" data-dojo-type="dijit.Dialog"
						title="Nouvelle branche">
						<table style="width: 100%">
							<tr>
								<td colspan="2">Nom de la branche</td>
							</tr>
							<tr>
								<td colspan="2"><input type="text" id="txtNewBranchName"
									style="width: 100%" /></td>
							</tr>
							<tr>
								<td colspan="2"><input type="checkbox"
									id="txtNewBranchGradesFlag" CHECKED>Branche avec notes</input></td>
							</tr>
							<tr>
								<td align="center"><button
										onclick="createBranch('newBranchDialog', 'txtNewBranchName', 'txtNewBranchGradesFlag')">Ok</button></td>
								<td align="center"><button
										onclick="dijit.byId('newBranchDialog').hide();">Annuler</button></td>
							</tr>
						</table>
					</div>
					<script type="text/javascript">
						function deleteExam() {
							dijit.byId("removeExamDialog").show();
						};
						function setExamDialog() {
							dijit.byId("setExamDialog").show();
						};
						function createNewBranch() {
							dijit.byId("newBranchDialog").show();
						};
						function deleteBranch() {
							dijit.byId("removeBranchDialog").show();
						};
					</script>
					<div id="periods" style="height: 85%"></div>
				</div>
			</td>
		</tr>
	</table>
</div>
