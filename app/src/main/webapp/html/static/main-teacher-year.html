<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<script type="text/javascript">
        var dojoConfig = {
            parseOnLoad: true
        };
    </script>
	<script type="text/javascript" src="http://localhost:8080/dojo/1.7.2/dojo/dojo.js"></script>
	<script type="text/javascript">
		dojo.require("dijit.Dialog");
		dojo.require("dijit.Tree");
		dojo.require("dijit.tree.dndSource");
		dojo.require("dojo.data.ItemFileWriteStore");
		dojo.require("dojo.data.ItemFileReadStore");
	</script>
	
	<link href="template.css" rel="stylesheet" type="text/css">
	<link href="dialog.css" rel="stylesheet" type="text/css">
	<title>Title</title>
</head>
<body class="claro">
	<div class="header">
		<img src="images/" class="app-logo" alt="Application logo" />
		<img src="images/" class="school-logo" alt="School logo" />
		<span class="app-name">Application Name</span>
	</div>
	
	<!-- Main menu -->
    <!--
        1. Students (list)
        2. Grads (according to students and courses)
        3. Generate docs
        4. Personal data
    -->
	<div id="main-menu" class="main-menu">
		<button class="main-menu-item main-menu-selected">Volée</button>
		<button class="main-menu-item">Elèves</button>
		<button class="main-menu-item">Professeurs</button>
		<button class="main-menu-item">Documents</button>
		
		<button id="logout" class="main-menu-item logout">Logout</button>
	</div>
	<div class="menu-element">
		<div id="startYear" data-dojo-type="dijit.Dialog" title="Démarrer une année" style="width: 300px">
			<table style="width: 100%">
				<tr>
					<td colspan="2" style="width: 100%">Nom de l'année</td>
				</tr><tr>
					<td colspan="2"><input type="text" style="width: 100%"></input></td>
				</tr><tr>
					<td align="center"><button>Ok</button></td><td align="center"><button>Annuler</button></td>
				</tr>
			</table>
		</div>
		<div id="renameYear" data-dojo-type="dijit.Dialog" title="Renommer l'année en cours" style="width: 300px">
			<table style="width: 100%">
				<tr>
					<td colspan="2" style="width: 100%">Nom de l'année</td>
				</tr><tr>
					<td colspan="2"><input type="text" style="width: 100%"></input></td>
				</tr><tr>
					<td align="center"><button>Ok</button></td><td align="center"><button>Annuler</button></td>
				</tr>
			</table>
		</div>
		<table style="width: 100%; height: 100%">
			<tr>
				<script type="text/javascript">
					function askConfirm() {
						window.confirm('Êtes vous sûr de vouloir clôturer l\'année?');
					}
					function startYear() {
						dijit.byId("startYear").show();
					}
					function renameYear() {
						dijit.byId("renameYear").show();
					}
				</script>
				<td colspan="2" align="center"><button onclick="askConfirm();">Clôturer l'année</button>
				<button onclick="startYear();" disabled="disabled">Démarrer une nouvelle année</button>
				<button onclick="renameYear();">Renommer l'année en cours</button></td>
			</tr>
			<tr>
				<td colspan="2"><hr /></td>
			</tr>
			<tr>
				<td valign="top" style="width: 20%; height: 100%">
					<div id="year-search" class="vertical-search">
						<div id="newClassDialog" data-dojo-type="dijit.Dialog" title="Nouvelle classe">
							<table style="width: 100%">
								<tr>
									<td>Nom</td><td><input type="text" style="width:200px" /></td>
								</tr><tr>
									<td>Degré</td><td><select name="thelist1" style="width: 100%">
										  <option>1ère</option>
										  <option>2ème</option>
										  <option>3ème</option>
										  <option>4ème</option>
										  <option>5ème</option>
										  <option>6ème</option>
										  <option>7ème</option>
										  <option>8ème</option>
										</select></td>
								</tr><tr>
									<td>Type</td><td><select name="thelist2" style="width: 100%">
										  <option>Normal</option>
										  <option>Acceuil</option>
										</select></td>
								</tr><tr>
									<td>Reprendre</td><td><select name="thelist3" style="width: 100%">
										<option>Aucun</option>
										<option>Classe 1P A</option>
										<option>Classe 1P B</option>
									</select></td>
								</tr><tr>
									<td># de partie</td><td><select name="thelist1" style="width: 100%">
										  <option>1</option>
										  <option>2</option>
										  <option>3</option>
										  <option>4</option>
										  <option>5</option>
										</select></td>
								</tr><tr>
									<td>Nom de partie</td><td><input type="text" style="width: 100%" value="Trimestre" /></td>
								</tr><tr>
									<td align="center"><button>Ok</button></td><td align="center"><button>Annuler</button></td>
								</tr>
							</table>
						</div>
						<div id="removeClassDialog" data-dojo-type="dijit.Dialog" title="Supprimer une classe" style="width: 300px">
							<table style="width: 100%">
								<tr>
									<td colspan="2">Classe à supprimer</td>
								</tr><tr>
									<td colspan="2"><select name="thelist1" style="width: 100%">
										  <option>Classe 1P A</option>
										  <option>Classe 1P B</option>
										  <option>Classe 2P A</option>
										  <option>Classe 2P B</option>
										  <option>Classe 3P A</option>
										  <option>Classe 3P B</option>
										  <option>Classe 3P C</option>
										  <option>Classe 4P A</option>
										  <option>Classe 4P B</option>
										  <option>Classe 5P A</option>
										  <option>Classe 5P B</option>
										  <option>Classe 6P A</option>
										  <option>Classe 7P A</option>
										  <option>Classe 7P B</option>
										  <option>Classe 8P A</option>
										  <option>Classe 8P B</option>
										</select></td>
								</tr><tr>
									<td align="center"><button>Ok</button></td><td align="center"><button>Annuler</button></td>
								</tr>
							</table>
						</div>
						<script type="text/javascript">
							function createNewClass() {
								dijit.byId("newClassDialog").show();
							};
							function deleteClass() {
								dijit.byId("removeClassDialog").show();
							};
						</script>
						<button type="text" class="new-class" onclick="createNewClass()">Nouvelle classe</button>
						<button type="text" class="remove-class" onclick="deleteClass()">Supprimer une classe</button>
						<hr />
						<div id="search-list" class="search-list">
							<ul class="search-list">
								<li style="width: 100%"><div style="width: 100%; background-color: #ADD8E6">2011-2012</div></li>
								<li class="search-list-item">Classe 1P A</li>
								<li class="search-list-item">Classe 1P B</li>
								<li class="search-list-item-selected">Classe 2P A</li>
								<li class="search-list-item">Classe 2P B</li>
								<li class="search-list-item">Classe 3P A</li>
								<li class="search-list-item">Classe 3P B</li>
								<li class="search-list-item">Classe 3P C</li>
								<li class="search-list-item">Classe 4P A</li>
								<li class="search-list-item">Classe 4P B</li>
								<li class="search-list-item">Classe 5P A</li>
								<li class="search-list-item">Classe 5P B</li>
								<li class="search-list-item">Classe 6P A</li>
								<li class="search-list-item">Classe 7P A</li>
								<li class="search-list-item">Classe 7P B</li>
								<li class="search-list-item">Classe 8P A</li>
								<li class="search-list-item">Classe 8P B</li>
								<li><hr /></li>
								<li style="width: 100%"><div style="width: 100%; background-color: #ADD8E6">2010-2011</div></li>
								<li class="search-list-item">Classe 1P A</li>
								<li class="search-list-item">Classe 1P B</li>
								<li><hr /></li>
								<li style="width: 100%"><div style="width: 100%; background-color: #ADD8E6">2009-2010</div></li>
								<li class="search-list-item">Classe 1P A</li>
								<li class="search-list-item">Classe 1P B</li>
							</ul>
						</div>
					</div>
				</td>
				<td valign="top" style="width: 80%">
					<div id="class-info" class="class-info">
						<div id="addRemoveStudents" style="width:350px" data-dojo-type="dijit.Dialog" title="Ajouter/supprimer des élèves">
							<table style="width: 100%">
								<tr>
									<td colspan="2"><h2>Class 2P A</h2></td>
								</tr><tr>
									<td>Non-assignés</td><td>Assignés</td>
								</tr><tr>
									<td><div style="border: 1px solid black; height: 100%"><div id="free-students"></div></div></td>
									<td valign="top"><div style="border: 1px solid black; height: 100%"><div id="class-students"></div></div></td>
								</tr><tr>
									<td align="center"><button>Ok</button></td><td align="center"><button>Annuler</button></td>
								</tr>
							</table>
						</div>
						<div id="addRemoveTeachers" style="width:350px" data-dojo-type="dijit.Dialog" title="Ajouter/supprimer des professeurs">
							<table style="width: 100%">
								<tr>
									<td colspan="2"><h2>Class 2P A</h2></td>
								</tr><tr>
									<td>Non-assignés</td><td>Assignés</td>
								</tr><tr>
									<td><div style="border: 1px solid black; height: 100%"><div id="free-teachers"></div></div></td>
									<td valign="top"><div style="border: 1px solid black; height: 100%"><div id="class-teachers"></div></div></td>
								</tr><tr>
									<td align="center"><button>Ok</button></td><td align="center"><button>Annuler</button></td>
								</tr>
							</table>
						</div>
						<script type="text/javascript">
							var rawdata1 = [
									{ label: 'Elève 6', id: '6' },
									{ label: 'Elève 7', id: '7' },
									{ label: 'Elève 8', id: '8' },
									{ label: 'Elève 9', id: '9'  },
									{ label: 'Elève 10', id: '10' },
									{ label: 'Elève 11', id: '11' },
									{ label: 'Elève 12', id: '12' },
									{ label: 'Elève 13', id: '13' },
									{ label: 'Elève 14', id: '14' } ];
							var rawdata2 = [
									{ label: 'Elève 1', id: '1' },
									{ label: 'Elève 2', id: '2' },
									{ label: 'Elève 3', id: '3' },
									{ label: 'Elève 4', id: '4'  },
									{ label: 'Elève 5', id: '5' } ];
							var rawdata3 = [
									{ label: 'Professeur 1', id: '6' },
									{ label: 'Professeur 2', id: '7' } ];
							var rawdata4 = [
									{ label: 'Charlène Dupont', id: '1' } ];
							
							function prepareTree(rawdata, divName) {
								var store = new dojo.data.ItemFileWriteStore({
									data: { identifier: 'id', label : 'label', items: rawdata }
								});
								var treeModel = new dijit.tree.ForestStoreModel({ store: store });
								var treeControl = new dijit.Tree({
									model: treeModel,
									dndController: "dijit.tree.dndSource",
									showRoot: false,
									_createTreeNode: function(args){
										var tnode = new dijit._TreeNode(args);
										tnode.labelNode.innerHTML = args.label;
										return tnode;
									}
								}, divName );
							}
							function prepare() {
								prepareTree(rawdata1, "free-students");
								prepareTree(rawdata2, "class-students");
								prepareTree(rawdata3, "free-teachers");
								prepareTree(rawdata4, "class-teachers");
							}
							
							dojo.ready(prepare);
							
							function addSuppressTeacher() {
								dijit.byId("addRemoveTeachers").show();
							};
							function addSuppressStudent() {
								dijit.byId("addRemoveStudents").show();
							};
						</script>
						
						<h1>Classe 2P A</h1>
						<h3>Professeur</h3>
						<a href="#">Charlène Dupont</a><br />
						<button onclick="addSuppressTeacher()">Ajouter/supprimer des professeurs</button>
						
						<h3>Elèves</h3>
						<ul class="search-list">
						<li><a href="#">Elève 1</a></li>
						<li><a href="#">Elève 2</a></li>
						<li><a href="#">Elève 3</a></li>
						<li><a href="#">Elève 4</a></li>
						<li><a href="#">Elève 5</a></li>
						<li><button onclick="addSuppressStudent()">Ajouter/supprimer des élèves</button></li>
						</ul>
					</div>
				</td>
			</tr>
		</table>
	</div>
</body>